/*! caro.js - v0.7.3 - 2012-12-19
* http://bebraw.github.com/caro.js/
* Copyright (c) 2012 Juho Vepsalainen; Licensed MIT */
(function(e){function t(e,t){r(e,t,"left","width")}function n(e,t){r(e,t,"top","height")}function r(t,n,r,d){function E(e,t){return function(){n.cycle?(w=e(w,b-1),w<0&&(w=b-1),w>b-1&&(w=0)):w=s(e(w,b-1),0,b-1);var i={};i[r]=w*-100+"%",g.animate(i,n.delay,t),S(w,n.buttonClass)}}function S(e,r){l(y,e,r),n.cycle||c(t,e,b),h(m,e),n.resize&&v.animate({height:m.eq(e).height()||undefined},n.resizeDelay,function(){t.parents(".slides").siblings(".navi").find(".selected."+r+":first").trigger("click")})}var v=e(".slides:first",t),m=v.children().append(e("<div>")),g=e("<div>").append(m).appendTo(v),y=e("."+n.naviClass+":last",t),b=m.length,w=0;o(v,d,g,r,m),u(m,y,E,n.autoNavi,n.buttonClass),a(t,g,E),f(t,g,E,n.autoPlay,n.still),n.resize&&i(v,m,w),S(w,n.buttonClass),p(t),e(window).resize(function(){i(v,m,w)})}function i(e,t,n){e.height(t.eq(n).height()||undefined)}function s(e,t,n){return Math.min(Math.max(e,t),n)}function o(t,n,r,i,s){t.css("overflow","hidden");var o={position:"relative"};o[n]=s.length*100+"%",o[i]="0%",r.css(o);var u={display:i=="top"?"auto":"inline-block","vertical-align":"top"},a=100/s.length;u[n]=parseInt(a,10)+"%",n=="width"?u["padding-right"]=a-parseInt(a,10)+"%":u["padding-bottom"]=a-parseInt(a,10)+"%",s.each(function(t,n){e(n).css(u).addClass("slide")})}function u(t,n,r,i,s){t.each(function(t,o){var u=e("<a>",{href:"#"}).css("display","inline").bind("click",function(e){e.preventDefault(),r(function(){return t})()}).appendTo(n).addClass("title "+s);i?e(o).clone().appendTo(u):u.text(e(o).attr("title")||t+1)})}function a(e,t,n){function r(r,i){e.find(r).bind("click",function(e){e.preventDefault(),t.clearQueue(),n(i)()})}r(".prev",function(e){return e-1}),r(".next",function(e){return e+1}),r(".first",function(){return 0}),r(".last",function(e,t){return t})}function f(t,n,r,i,s){var o=r(function(e,t){return e==t?0:e+1},function(){e(this).delay(s).queue(function(){o(),e(this).dequeue()})});t.find(".play").bind("click",function(e){e.preventDefault(),o()}),t.find(".stop").bind("click",function(e){e.preventDefault(),n.clearQueue()})}function l(e,t,n){var r=e.find(".title."+n);r.removeClass("selected"),r.eq(t).addClass("selected")}function c(e,t,n){var r=e.find(".first,.prev"),i=e.find(".last,.next");t===0?r.addClass("disabled"):r.removeClass("disabled"),t==n-1?i.addClass("disabled"):i.removeClass("disabled")}function h(t,n){t.each(function(t,r){e(r).removeClass("prev").removeClass("next"),t==n-1&&e(r).addClass("prev"),t==n&&e(r).addClass("current"),t==n+1&&e(r).addClass("next")})}function p(t){return t.each(function(){e(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}e.fn.caro=function(r){return this.each(function(){var i=e(this),s=e.extend({dir:"horizontal",delay:300,still:1e3,autoPlay:!1,naviClass:"navi",buttonClass:"button",autoNavi:!1,cycle:!1,resize:!0,resizeDelay:300},r),o=s.dir=="horizontal"?t:n;o(i,s)})}})(jQuery);